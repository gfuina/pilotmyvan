import mongoose from 'mongoose';
import { config } from 'dotenv';
import { fileURLToPath } from 'url';
import { dirname, join } from 'path';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

// Load environment variables from .env
const envPath = join(__dirname, '../.env');
config({ path: envPath });

// Connect to MongoDB
await mongoose.connect(process.env.MONGODB_URI);
console.log('‚úÖ Connected to MongoDB');

// Define schemas
const EquipmentSchema = new mongoose.Schema({
  name: String,
  description: String,
  categoryId: mongoose.Schema.Types.ObjectId,
  vehicleBrands: [mongoose.Schema.Types.ObjectId],
  equipmentBrands: [mongoose.Schema.Types.ObjectId],
  photos: [String],
  manuals: [{
    title: String,
    url: String,
    isExternal: Boolean,
  }],
  notes: String,
  isUserContributed: Boolean,
  contributedBy: mongoose.Schema.Types.ObjectId,
  status: String,
  approvedBy: mongoose.Schema.Types.ObjectId,
  approvedAt: Date,
  rejectionReason: String,
}, { timestamps: true });

const MaintenanceSchema = new mongoose.Schema({
  equipmentId: mongoose.Schema.Types.ObjectId,
  name: String,
  type: String,
  priority: String,
  difficulty: String,
  recurrence: {
    time: {
      value: Number,
      unit: String,
    },
    kilometers: Number,
  },
  conditions: [String],
  description: String,
  instructions: String,
  photos: [String],
  videos: [String],
  parts: [{
    name: String,
    reference: String,
    quantity: Number,
    estimatedCost: Number,
    purchaseLink: String,
  }],
  estimatedDuration: Number,
  estimatedCost: Number,
  tags: [String],
  isOfficial: Boolean,
  source: String,
  isUserContributed: Boolean,
  contributedBy: mongoose.Schema.Types.ObjectId,
  status: String,
}, { timestamps: true });

const Equipment = mongoose.models.Equipment || mongoose.model('Equipment', EquipmentSchema);
const Maintenance = mongoose.models.Maintenance || mongoose.model('Maintenance', MaintenanceSchema);

try {
  // Category ID pour "Eau et sanitaires"
  const categoryId = new mongoose.Types.ObjectId('68f35041be04ebdaad786b36');

  // ============================================
  // 1. CUVE √Ä EAU GRISE INT√âRIEUR
  // ============================================
  
  const cuveGriseInterieur = await Equipment.create({
    name: 'Cuve √† eau grise int√©rieur',
    description: 'R√©servoir d\'eaux us√©es install√© √† l\'int√©rieur du v√©hicule, collectant les eaux de la cuisine, du lavabo et de la douche. G√©n√©ralement entre 40 et 100 litres. Position int√©rieure prot√©g√©e du gel.',
    categoryId: categoryId,
    vehicleBrands: [],
    equipmentBrands: [],
    photos: [],
    manuals: [],
    notes: 'Situ√©e √† l\'int√©rieur, donc prot√©g√©e du gel mais n√©cessite une vidange r√©guli√®re pour √©viter les odeurs.',
    isUserContributed: false,
    status: 'approved',
  });

  console.log(`\n‚úÖ √âquipement 1 cr√©√©: ${cuveGriseInterieur.name} (ID: ${cuveGriseInterieur._id})`);

  const maintenancesCuveInterieur = [
    {
      equipmentId: cuveGriseInterieur._id,
      name: 'Vidange de la cuve √† eau grise',
      type: 'drain',
      priority: 'critical',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 3,
          unit: 'days',
        },
      },
      conditions: [
        'Lorsque la cuve est pleine',
        'Avant de prendre la route',
        'Tous les 2-3 jours en usage intensif',
      ],
      description: 'Vidange r√©guli√®re de la cuve √† eau grise pour √©viter les odeurs, le d√©bordement et la prolif√©ration bact√©rienne.',
      instructions: '1. Rep√©rer l\'emplacement de la borne de vidange\n2. Ouvrir la vanne de vidange de la cuve grise\n3. Laisser √©couler compl√®tement\n4. Refermer la vanne\n5. V√©rifier l\'absence de fuite\n\n‚ö†Ô∏è Vidanger uniquement aux emplacements autoris√©s\n‚ö†Ô∏è Ne jamais vidanger dans la nature',
      photos: [],
      videos: [],
      parts: [],
      estimatedDuration: 10,
      estimatedCost: 0,
      tags: ['Vidange', 'Obligatoire', 'Hygi√®ne', 'Environnement'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
    {
      equipmentId: cuveGriseInterieur._id,
      name: 'Nettoyage et d√©sinfection de la cuve grise',
      type: 'cleaning',
      priority: 'important',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 3,
          unit: 'months',
        },
      },
      conditions: [
        'Si odeurs persistantes',
        'Avant hivernage',
        'Apr√®s p√©riode d\'inutilisation',
      ],
      description: 'Nettoyage en profondeur de la cuve √† eau grise pour √©liminer les d√©p√¥ts, graisses et mauvaises odeurs.',
      instructions: '1. Vidanger compl√®tement la cuve\n2. Remplir avec de l\'eau chaude\n3. Ajouter un produit nettoyant sp√©cifique eaux grises\n   - Option 1 : Produit du commerce (Aqua Kem, Thetford, etc.)\n   - Option 2 : 250ml vinaigre blanc + 2 cuill√®res √† soupe bicarbonate\n4. Laisser agir 2-3 heures\n5. Utiliser normalement (douche, vaisselle) pour faire circuler\n6. Vidanger compl√®tement\n7. Rincer avec 10-20 litres d\'eau claire\n8. Vidanger √† nouveau\n\nüí° Utiliser r√©guli√®rement du bicarbonate dans l\'√©vier pr√©vient les odeurs',
      photos: [],
      videos: [],
      parts: [
        {
          name: 'Produit nettoyant eaux grises',
          reference: 'Variable',
          quantity: 1,
          estimatedCost: 10,
        },
      ],
      estimatedDuration: 30,
      estimatedCost: 10,
      tags: ['Nettoyage', 'Odeurs', 'D√©sinfection', 'Hygi√®ne'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
    {
      equipmentId: cuveGriseInterieur._id,
      name: 'V√©rification du capteur de niveau',
      type: 'inspection',
      priority: 'recommended',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 6,
          unit: 'months',
        },
      },
      conditions: [
        'Si affichage erron√©',
        'Apr√®s nettoyage de la cuve',
      ],
      description: 'Contr√¥le du bon fonctionnement du capteur de niveau de la cuve √† eau grise.',
      instructions: '1. Vidanger compl√®tement la cuve\n2. V√©rifier l\'affichage : doit indiquer VIDE\n3. Remplir progressivement\n4. V√©rifier que l\'affichage √©volue correctement\n5. Si dysfonctionnement :\n   - Les capteurs d\'eaux grises s\'encrassent facilement\n   - Nettoyer avec un produit sp√©cifique capteurs\n   - Laisser agir selon instructions\n   - Rincer abondamment\n6. Remplacer si le nettoyage n\'am√©liore pas\n\nüí° Un nettoyage r√©gulier de la cuve pr√©vient l\'encrassement des capteurs',
      photos: [],
      videos: [],
      parts: [],
      estimatedDuration: 20,
      estimatedCost: 0,
      tags: ['Capteur', 'Diagnostic', '√âlectronique'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
    {
      equipmentId: cuveGriseInterieur._id,
      name: 'Inspection de la vanne et des joints',
      type: 'inspection',
      priority: 'important',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 6,
          unit: 'months',
        },
      },
      conditions: [
        'Si fuite d√©tect√©e',
        'Si vanne difficile √† man≈ìuvrer',
      ],
      description: 'Contr√¥le de l\'√©tat de la vanne de vidange et des joints pour pr√©venir les fuites.',
      instructions: '1. V√©rifier le fonctionnement de la vanne :\n   - Ouverture/fermeture fluide\n   - Absence de blocage\n   - Fermeture √©tanche\n2. Inspecter visuellement :\n   - √âtat du joint de vanne\n   - Fissures sur le m√©canisme\n   - Traces d\'humidit√© sous le v√©hicule\n3. Lubrifier le m√©canisme si n√©cessaire (graisse silicone)\n4. V√©rifier les colliers de serrage des durites\n5. Resserrer si n√©cessaire\n6. Remplacer le joint si d√©grad√©\n\n‚ö†Ô∏è Une vanne qui fuit = risque de vidange intempestive en roulant',
      photos: [],
      videos: [],
      parts: [
        {
          name: 'Joint de vanne',
          reference: 'Variable selon mod√®le',
          quantity: 1,
          estimatedCost: 5,
        },
      ],
      estimatedDuration: 20,
      estimatedCost: 5,
      tags: ['Vanne', 'Joint', 'Fuite', 'Pr√©vention'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
    {
      equipmentId: cuveGriseInterieur._id,
      name: 'Traitement anti-odeurs pr√©ventif',
      type: 'service',
      priority: 'recommended',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 2,
          unit: 'months',
        },
      },
      conditions: [
        'Utilisation fr√©quente',
        'Temp√©ratures √©lev√©es',
      ],
      description: 'Application pr√©ventive d\'un traitement pour limiter les mauvaises odeurs des eaux grises.',
      instructions: '1. Verser un produit anti-odeurs sp√©cifique eaux grises\n2. Options efficaces :\n   - Produits enzymatiques du commerce\n   - 2 cuill√®res √† soupe de bicarbonate de soude\n   - Vinaigre blanc (250ml)\n3. Faire couler de l\'eau pour r√©partir\n4. Utiliser normalement\n\nüí° Conseils pour r√©duire les odeurs :\n- Utiliser un bac √† graisse sur l\'√©vier\n- √âviter de verser des huiles/graisses\n- Vidanger fr√©quemment\n- Utiliser des produits vaisselle biod√©gradables',
      photos: [],
      videos: [],
      parts: [],
      estimatedDuration: 5,
      estimatedCost: 5,
      tags: ['Odeurs', 'Pr√©vention', 'Confort', 'Hygi√®ne'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
  ];

  const insertedMaintenancesInterieur = await Maintenance.insertMany(maintenancesCuveInterieur);
  console.log(`‚úÖ ${insertedMaintenancesInterieur.length} maintenances cr√©√©es pour cuve int√©rieur`);

  // ============================================
  // 2. CUVE √Ä EAU GRISE SOUS CH√ÇSSIS
  // ============================================
  
  const cuveGriseChassis = await Equipment.create({
    name: 'Cuve √† eau grise sous ch√¢ssis',
    description: 'R√©servoir d\'eaux us√©es mont√© sous le ch√¢ssis du v√©hicule, expos√© aux intemp√©ries. Capacit√© g√©n√©ralement plus importante (80-150 litres). N√©cessite une protection contre le gel en hiver.',
    categoryId: categoryId,
    vehicleBrands: [],
    equipmentBrands: [],
    photos: [],
    manuals: [],
    notes: 'Exposition aux projections, route, gel. N√©cessite un entretien sp√©cifique et une protection hivernale renforc√©e.',
    isUserContributed: false,
    status: 'approved',
  });

  console.log(`\n‚úÖ √âquipement 2 cr√©√©: ${cuveGriseChassis.name} (ID: ${cuveGriseChassis._id})`);

  const maintenancesCuveChassis = [
    {
      equipmentId: cuveGriseChassis._id,
      name: 'Vidange de la cuve √† eau grise',
      type: 'drain',
      priority: 'critical',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 3,
          unit: 'days',
        },
      },
      conditions: [
        'Lorsque la cuve est pleine',
        'Avant de prendre la route',
        'Tous les 2-3 jours en usage intensif',
      ],
      description: 'Vidange r√©guli√®re de la cuve √† eau grise pour √©viter les odeurs, le d√©bordement et la prolif√©ration bact√©rienne.',
      instructions: '1. Rep√©rer l\'emplacement de la borne de vidange\n2. Ouvrir la vanne de vidange de la cuve grise\n3. Laisser √©couler compl√®tement\n4. Refermer la vanne\n5. V√©rifier l\'absence de fuite\n\n‚ö†Ô∏è Vidanger uniquement aux emplacements autoris√©s\n‚ö†Ô∏è Ne jamais vidanger dans la nature\n‚ö†Ô∏è En hiver : vidanger avant le gel (eau r√©siduelle peut geler)',
      photos: [],
      videos: [],
      parts: [],
      estimatedDuration: 10,
      estimatedCost: 0,
      tags: ['Vidange', 'Obligatoire', 'Hygi√®ne', 'Environnement'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
    {
      equipmentId: cuveGriseChassis._id,
      name: 'Nettoyage et d√©sinfection de la cuve grise',
      type: 'cleaning',
      priority: 'important',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 3,
          unit: 'months',
        },
      },
      conditions: [
        'Si odeurs persistantes',
        'Avant hivernage',
        'Apr√®s p√©riode d\'inutilisation',
      ],
      description: 'Nettoyage en profondeur de la cuve √† eau grise pour √©liminer les d√©p√¥ts, graisses et mauvaises odeurs.',
      instructions: '1. Vidanger compl√®tement la cuve\n2. Remplir avec de l\'eau chaude\n3. Ajouter un produit nettoyant sp√©cifique eaux grises\n4. Laisser agir 2-3 heures\n5. Utiliser normalement pour faire circuler\n6. Vidanger compl√®tement\n7. Rincer avec 20-30 litres d\'eau claire\n8. Vidanger √† nouveau\n\nüí° Les cuves sous ch√¢ssis s\'encrassent plus (poussi√®res, projections)',
      photos: [],
      videos: [],
      parts: [
        {
          name: 'Produit nettoyant eaux grises',
          reference: 'Variable',
          quantity: 1,
          estimatedCost: 10,
        },
      ],
      estimatedDuration: 30,
      estimatedCost: 10,
      tags: ['Nettoyage', 'Odeurs', 'D√©sinfection', 'Hygi√®ne'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
    {
      equipmentId: cuveGriseChassis._id,
      name: 'Inspection de la cuve et protection',
      type: 'inspection',
      priority: 'important',
      difficulty: 'intermediate',
      recurrence: {
        time: {
          value: 6,
          unit: 'months',
        },
      },
      conditions: [
        'Avant l\'hiver',
        'Apr√®s conduite sur pistes/chemins',
        'Si bruits suspects',
      ],
      description: 'Contr√¥le de l\'√©tat de la cuve sous ch√¢ssis, de ses fixations et de sa protection contre les chocs.',
      instructions: '1. Passer sous le v√©hicule pour inspection visuelle\n2. V√©rifier la cuve :\n   - Fissures ou d√©formations\n   - Traces de chocs\n   - √âtat g√©n√©ral du plastique\n3. Contr√¥ler les fixations :\n   - Sangles de maintien\n   - Colliers\n   - Vis et boulons\n   - Resserrer si n√©cessaire\n4. V√©rifier la protection :\n   - Plaque de protection si √©quip√©e\n   - √âtat des mousses isolantes\n5. Inspecter les durites et raccords\n6. V√©rifier l\'√©tanch√©it√© de la vanne\n7. Nettoyer les projections de boue\n\n‚ö†Ô∏è Une cuve mal fix√©e peut se d√©crocher en roulant\n‚ö†Ô∏è Attention aux chocs sur routes difficiles',
      photos: [],
      videos: [],
      parts: [],
      estimatedDuration: 30,
      estimatedCost: 0,
      tags: ['Inspection', 'Fixation', 'S√©curit√©', 'Protection'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
    {
      equipmentId: cuveGriseChassis._id,
      name: 'Pr√©paration hivernale et protection gel',
      type: 'service',
      priority: 'critical',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 1,
          unit: 'years',
        },
      },
      conditions: [
        'Avant temp√©ratures n√©gatives',
        'Si stationnement hivernal',
        'D√®s risque de gel',
      ],
      description: 'Protection de la cuve sous ch√¢ssis contre le gel pour √©viter fissures et d√©g√¢ts caus√©s par l\'expansion de l\'eau gel√©e.',
      instructions: '‚ö†Ô∏è CRITIQUE pour cuves sous ch√¢ssis (tr√®s expos√©es au gel)\n\n1. Vidanger compl√®tement la cuve\n2. Ouvrir tous les robinets pour vidanger les canalisations\n3. Laisser la vanne de vidange ouverte\n4. Options de protection suppl√©mentaires :\n   - Installer un kit de chauffage de cuve (si √©quip√©)\n   - Ajouter une isolation thermique temporaire\n   - Utiliser un c√¢ble chauffant autor√©gulant\n5. Si utilisation hivernale :\n   - Vidanger quotidiennement\n   - Ne jamais laisser pleine par gel\n   - Surveiller la temp√©rature\n6. Si stockage hivernal :\n   - Laisser vanne ouverte tout l\'hiver\n   - V√©rifier l\'absence d\'eau r√©siduelle\n\nüí° L\'eau grise g√®le plus difficilement que l\'eau propre (savons, sels) mais peut quand m√™me endommager la cuve',
      photos: [],
      videos: [],
      parts: [],
      estimatedDuration: 20,
      estimatedCost: 0,
      tags: ['Hivernage', 'Gel', 'Protection', 'Critique', 'Hiver'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
    {
      equipmentId: cuveGriseChassis._id,
      name: 'Inspection de la vanne et du m√©canisme',
      type: 'inspection',
      priority: 'important',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 6,
          unit: 'months',
        },
      },
      conditions: [
        'Si fuite d√©tect√©e',
        'Si vanne difficile √† man≈ìuvrer',
        'Apr√®s exposition au gel',
      ],
      description: 'Contr√¥le de l\'√©tat de la vanne de vidange et de son m√©canisme, particuli√®rement expos√©s sous le ch√¢ssis.',
      instructions: '1. Acc√©der √† la vanne sous le v√©hicule\n2. V√©rifier le fonctionnement :\n   - Ouverture/fermeture fluide\n   - Absence de blocage ou grippage\n   - Fermeture √©tanche\n3. Inspecter visuellement :\n   - √âtat du joint de vanne\n   - Corrosion du m√©canisme\n   - Fissures\n   - Traces d\'humidit√©\n4. Nettoyer le m√©canisme (projections, boue)\n5. Lubrifier avec graisse silicone\n6. V√©rifier le c√¢ble ou la tirette de commande\n7. Tester plusieurs cycles ouverture/fermeture\n8. Remplacer si n√©cessaire\n\n‚ö†Ô∏è Les vannes sous ch√¢ssis s\'encrassent et se grippent plus vite\n‚ö†Ô∏è Une vanne qui fuit = vidange en roulant',
      photos: [],
      videos: [],
      parts: [
        {
          name: 'Kit joint de vanne',
          reference: 'Variable selon mod√®le',
          quantity: 1,
          estimatedCost: 10,
        },
        {
          name: 'Graisse silicone',
          reference: 'N/A',
          quantity: 1,
          estimatedCost: 5,
        },
      ],
      estimatedDuration: 25,
      estimatedCost: 15,
      tags: ['Vanne', 'M√©canique', 'Fuite', 'Entretien'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
    {
      equipmentId: cuveGriseChassis._id,
      name: 'V√©rification du capteur de niveau',
      type: 'inspection',
      priority: 'recommended',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 6,
          unit: 'months',
        },
      },
      conditions: [
        'Si affichage erron√©',
        'Apr√®s nettoyage de la cuve',
      ],
      description: 'Contr√¥le du bon fonctionnement du capteur de niveau de la cuve √† eau grise.',
      instructions: '1. Vidanger compl√®tement la cuve\n2. V√©rifier l\'affichage : doit indiquer VIDE\n3. Remplir progressivement\n4. V√©rifier que l\'affichage √©volue correctement\n5. Si dysfonctionnement :\n   - Nettoyer avec produit sp√©cifique\n   - V√©rifier les connexions √©lectriques (corrosion)\n   - Inspecter le c√¢blage sous le ch√¢ssis\n6. Prot√©ger les connexions √©lectriques\n7. Remplacer si d√©faillant\n\nüí° Les capteurs sous ch√¢ssis sont plus expos√©s √† la corrosion',
      photos: [],
      videos: [],
      parts: [],
      estimatedDuration: 25,
      estimatedCost: 0,
      tags: ['Capteur', '√âlectronique', 'Diagnostic'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
    {
      equipmentId: cuveGriseChassis._id,
      name: 'Traitement anti-odeurs pr√©ventif',
      type: 'service',
      priority: 'recommended',
      difficulty: 'easy',
      recurrence: {
        time: {
          value: 2,
          unit: 'months',
        },
      },
      conditions: [
        'Utilisation fr√©quente',
        'Temp√©ratures √©lev√©es',
      ],
      description: 'Application pr√©ventive d\'un traitement pour limiter les mauvaises odeurs des eaux grises.',
      instructions: '1. Verser un produit anti-odeurs sp√©cifique\n2. Options efficaces :\n   - Produits enzymatiques\n   - Bicarbonate de soude (3 cuill√®res √† soupe)\n   - Vinaigre blanc (300ml)\n3. Faire couler de l\'eau pour r√©partir\n4. Utiliser normalement\n\nüí° Les cuves sous ch√¢ssis chauffent plus au soleil = plus d\'odeurs',
      photos: [],
      videos: [],
      parts: [],
      estimatedDuration: 5,
      estimatedCost: 5,
      tags: ['Odeurs', 'Pr√©vention', 'Confort', 'Hygi√®ne'],
      isOfficial: true,
      source: 'Bonnes pratiques camping-car',
      isUserContributed: false,
      status: 'approved',
    },
  ];

  const insertedMaintenancesChassis = await Maintenance.insertMany(maintenancesCuveChassis);
  console.log(`‚úÖ ${insertedMaintenancesChassis.length} maintenances cr√©√©es pour cuve sous ch√¢ssis`);

  // ============================================
  // R√âSUM√â
  // ============================================
  
  console.log('\n\nüìä R√âSUM√â DE L\'INSERTION');
  console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
  
  console.log('\nüîß √âQUIPEMENT 1: ' + cuveGriseInterieur.name);
  console.log(`   ID: ${cuveGriseInterieur._id}`);
  console.log('   Maintenances:');
  insertedMaintenancesInterieur.forEach((m, i) => {
    console.log(`   ${i + 1}. ${m.name} (${m.type} - ${m.priority})`);
  });
  
  console.log('\nüîß √âQUIPEMENT 2: ' + cuveGriseChassis.name);
  console.log(`   ID: ${cuveGriseChassis._id}`);
  console.log('   Maintenances:');
  insertedMaintenancesChassis.forEach((m, i) => {
    console.log(`   ${i + 1}. ${m.name} (${m.type} - ${m.priority})`);
  });
  
  console.log('\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
  console.log(`‚úÖ Total: 2 √©quipements, ${insertedMaintenancesInterieur.length + insertedMaintenancesChassis.length} maintenances`);

} catch (error) {
  console.error('‚ùå Erreur lors de l\'insertion:', error);
} finally {
  await mongoose.disconnect();
  console.log('\n‚úÖ D√©connect√© de MongoDB');
}

